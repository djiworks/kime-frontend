<template name="statsMainView">
  <div class="container">
    <h2 class="brown-text thin">
      Statistiques
    </h2>
    <div class="row">
      <div class="input-field col s12 m4">
        <select id="carSelect">
          <option value="all" selected>Toutes</option>
          {{#each cars}}
            <option value="{{_id}}">{{name}}</option>
          {{/each}}
        </select>
        <label>Voitures</label>
      </div>
      <div class="input-field col s12 m4">
        <select id="monthSelect">
          <option value="all">Tous</option>
          {{#each getMonths}}
            <option value={{@index}}>{{this}}</option>
          {{/each}}
        </select>
        <label>Mois</label>
      </div>
      <div class="input-field col s12 m4">
        <select id="yearSelect">
          <option value="all">Tous</option>
          {{#each getYears}}
            <option value={{this}}>{{this}}</option>
          {{/each}}
        </select>
        <label>Années</label>
      </div>
    </div>
    <div class="row">
      {{#if Template.subscriptionsReady}}
        {{> kmStats}}
        {{> consoStats}}
        {{> coutStats}}
        {{> kmCostStats}}
        {{> literDistanceStats}}
        {{> costDistanceStats}}
      {{else}}
        <h1 class="brown-text"><i class="fa fa-line-chart fa-3x"></i></h1>
        <h4>Analyse</h4>
          <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
          <span class="sr-only">Chargement des données...</span>
          <p>
            Chargement des données...
          </p>
      {{/if}}
    </div>
  </div>
</template>

<template name="kmStats">
  <div class="col s12 m4">
    <div class="card-panel grey lighten-5 z-depth-1">
      <h5 class="black-text thin italic">
        Distance parcourue
      </h5>
      <canvas id="kmChart"></canvas>
    </div>
  </div>
</template>

<template name="consoStats">
  <div class="col s12 m4">
    <div class="card-panel grey lighten-5 z-depth-1">
      <h5 class="black-text thin italic">
        Consommation
      </h5>
      <canvas id="consoChart"></canvas>
    </div>
  </div>
</template>

<template name="coutStats">
  <div class="col s12 m4">
    <div class="card-panel grey lighten-5 z-depth-1">
      <h5 class="black-text thin italic">
        Dépense carburant
      </h5>
      <canvas id="coutChart"></canvas>
    </div>
  </div>
</template>

<template name="kmCostStats">
  <div class="col s12 m4">
    <div class="card-panel grey lighten-5 z-depth-1">
      <h5 class="black-text thin italic">
        Coût du km
      </h5>
      <canvas id="kmCostChart"></canvas>
    </div>
  </div>
</template>

<template name="literDistanceStats">
  <div class="col s12 m4">
    <div class="card-panel grey lighten-5 z-depth-1">
      <h5 class="black-text thin italic">
        Distance par Litre
      </h5>
      <canvas id="literDistanceChart"></canvas>
    </div>
  </div>
</template>

<template name="costDistanceStats">
  <div class="col s12 m4">
    <div class="card-panel grey lighten-5 z-depth-1">
      <h5 class="black-text thin italic">
        Distance par €
      </h5>
      <canvas id="costDistanceChart"></canvas>
    </div>
  </div>
</template>
